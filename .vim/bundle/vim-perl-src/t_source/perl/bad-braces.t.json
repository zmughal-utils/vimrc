[["Statement","push"],["","( "],["Identifier","@ids"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n\n"],["Statement","my"],[""," "],["Identifier","%hash"],[""," = "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n\n"],["Statement","my"],[""," "],["Identifier","$hashref"],[""," = { "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," ) };\n\n"],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$i"],[""," ( "],["Float","1..10"],[""," ) {\n    "],["Statement","push"],["","( "],["Identifier","@ids"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n}\n\n"],["Keyword","sub "],["Function","foo "],["","{\n    "],["Statement","push"],["","( "],["Identifier","@ids"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n}\n\n"],["Conditional","if"],[""," ( foo() ) {\n    "],["Statement","push"],["","( "],["Identifier","@ids"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n}\n"],["Conditional","elsif"],[""," ( bar() ) {\n    "],["Statement","push"],["","( "],["Identifier","@ids"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n}\n"],["Conditional","else"],[""," {\n    "],["Statement","push"],["","( "],["Identifier","@ids"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","class"],["Identifier","}"],["","->id "],["Statement","}"],[""," "],["Identifier","@{$specs_flattened->{$set}}"],[""," );\n}\n\n"],["Statement","my"],[""," "],["Identifier","@flrids"],[""," = "],["Statement","join"],["","( "],["String","' '"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","flrid"],["Identifier","}"],[""," "],["Statement","}"],[""," "],["Identifier","@{$set}"],[""," );\n\n"],["Statement","my"],[""," "],["Identifier","$set"],[""," = sqldo_set( "],["Identifier","$sql"],["",", { "],["String","':listid'"],[""," => "],["Identifier","$listid"],[""," } );\n\n"],["Conditional","if"],[""," ( "],["Identifier","@{$set}"],[""," > "],["Number","1_000"],[""," ) {\n    "],["Comment","# Do nothing"],["","\n}\n"],["Conditional","else"],[""," {\n    "],["Statement","my"],[""," "],["Identifier","$flrids"],[""," = "],["Statement","join"],["","( "],["String","' '"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["Identifier","$_->{"],["String","flrid"],["Identifier","}"],[""," "],["Statement","}"],[""," "],["Identifier","@{$set}"],[""," );\n    "],["Statement","return"],[""," "],["String","\"flrid:("],["Identifier","$flrids"],["String",")\""],["",";\n}\n\n\n"],["Label","MAIN:"],[""," {\n    "],["Repeat","while"],[""," ( <> ) {\n        "],["Conditional","if"],[""," ( "],["Identifier","$line"],[""," =~ "],["Statement","m{"],["String","^INFO:"],["Special",".+"],["String","/select params="],["Special","\\{(.+)\\}"],["String"," hits="],["Special","(\\d+)"],["String"," status=0 QTime="],["Special","(\\d+)"],["Statement","}"],[""," ) {\n            "],["Comment","# do something"],["","\n        }\n    }\n}\n\n"],["Identifier","$foo"],[""," =~ "],["Statement","s{"],["String"," /$"],["Statement","}{}"],["",";\n\n"],["Statement","my"],[""," "],["Identifier","$listref"],[""," = [ "],["Statement","map"],[""," "],["Statement","{"],[""," {"],["Identifier","$_"],[""," => "],["Number","9"],["","} "],["Statement","}"],[""," "],["Identifier","@foo"],[""," ];\n\n"],["Statement","my"],[""," "],["Identifier","$foo"],[""," = {\n    "],["String","blah"],[""," => x,\n    "],["String","foo"],[""," => x,\n};\n\n"],["Statement","my"],[""," "],["Identifier","$x"],[""," =\n{\n    yada,\n    yada,\n};\n"]]